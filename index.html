<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Solpump Mini</title>
<style>
body{
  margin:0;
  background:#070b1d;
  color:#fff;
  font-family:Arial;
}
.container{
  max-width:420px;
  margin:auto;
  padding:16px;
}
.card{
  background:#0d1330;
  border-radius:14px;
  padding:16px;
  margin-bottom:14px;
}
.btn{
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:#19f7a5;
  font-size:16px;
  font-weight:bold;
}
input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin:8px 0;
}
.big{
  font-size:48px;
  text-align:center;
}
.small{opacity:.7;font-size:13px}
.row{display:flex;gap:8px}
.row button{flex:1}
.log{
  font-size:13px;
  max-height:120px;
  overflow:auto;
}
</style>
</head>

<body>
<div class="container">

<!-- VIEW MODE -->
<div class="card">
  <div class="big" id="multi">1.00x</div>
  <button class="btn" onclick="enterGame()">ENTER GAME</button>
</div>

<!-- GAME -->
<div id="game" style="display:none">

<div class="card">
  <h3>ðŸŽ® Crash Game</h3>
  <div class="row">
    <button class="btn" onclick="start()">START</button>
    <button class="btn" onclick="stop()">STOP</button>
  </div>
</div>

<div class="card">
  <h3>ðŸ¤– Auto Play</h3>
  <input id="autoCash" placeholder="Auto Cashout (ex 1.8)" />
  <button class="btn" onclick="toggleAuto()">AUTO ON / OFF</button>
</div>

<div class="card">
  <h3>ðŸ’° Your Points: <span id="points">0</span></h3>
  <input id="sol" placeholder="Buy SOL (ex 0.05)">
  <button class="btn" onclick="buy()">BUY POINTS</button>
</div>

<div class="card">
  <h3>ðŸ“œ History</h3>
  <div id="history" class="log"></div>
</div>

<div class="card">
  <h3>ðŸ‘¥ Live Players</h3>
  <div id="players" class="log"></div>
</div>

</div>
</div>

<script>
let playing=false, multi=1, timer=null;
let crashAt=0, points=0, auto=false;
let history=[], players=[];

function enterGame(){
  document.getElementById("game").style.display="block";
}

function start(){
  if(playing) return;
  playing=true;
  multi=1;
  crashAt=randomCrash();
  timer=setInterval(tick,50);
}

function stop(){
  if(!playing) return;
  clearInterval(timer);
  playing=false;
  const win=Math.floor(multi*8);
  points+=win;
  document.getElementById("points").innerText=points;
  addHistory(multi.toFixed(2));
}

function tick(){
  let speed=0.02+multi*0.006;
  if(Math.random()<0.1) speed*=3; // giáº­t
  multi+=speed;
  document.getElementById("multi").innerText=multi.toFixed(2)+"x";

  if(auto){
    let ac=parseFloat(document.getElementById("autoCash").value);
    if(ac && multi>=ac) stop();
  }

  if(multi>=crashAt || Math.random()<0.004){
    crash();
  }
}

function crash(){
  clearInterval(timer);
  playing=false;
  document.getElementById("multi").innerText="ðŸ’¥ CRASH";
  addHistory("ðŸ’¥ "+crashAt.toFixed(2));
}

function randomCrash(){
  let r=Math.random();
  if(r<0.35) return rand(1.05,1.3);
  if(r<0.65) return rand(1.3,2.2);
  if(r<0.85) return rand(2.2,5);
  return rand(5,20);
}

function addHistory(x){
  history.unshift(x+"x");
  history=history.slice(0,10);
  document.getElementById("history").innerHTML=history.join("<br>");
}

function buy(){
  let sol=parseFloat(document.getElementById("sol").value);
  if(sol>=0.01){
    points+=Math.floor(sol*1000);
    document.getElementById("points").innerText=points;
  }
}

function toggleAuto(){
  auto=!auto;
}

function rand(a,b){return Math.random()*(b-a)+a}

// FAKE PLAYERS
setInterval(()=>{
  if(Math.random()<0.5){
    let p="0x"+Math.random().toString(16).substr(2,4);
    let m=rand(1.1,6).toFixed(2);
    players.unshift(`${p} cashed at ${m}x`);
    players=players.slice(0,6);
    document.getElementById("players").innerHTML=players.join("<br>");
  }
},1500);
</script>
</body>
</html>
